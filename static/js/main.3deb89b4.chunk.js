(window["webpackJsonppathfinding-demos"]=window["webpackJsonppathfinding-demos"]||[]).push([[0],{13:function(t,e,n){t.exports=n(23)},18:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a,r,i=n(0),s=n.n(i),o=n(11),h=n.n(o),u=(n(18),n(9)),c=n(8),d=n.n(c),l=n(12),p=n(6),g=n(1),v=n(2),f=n(4),m=n(3),S=n(5);n(20);!function(t){t[t.OPEN=1]="OPEN",t[t.WALL=2]="WALL",t[t.START=3]="START",t[t.END=4]="END",t[t.PATH=5]="PATH",t[t.EXPLORED=6]="EXPLORED",t[t.EXPLORING=7]="EXPLORING"}(a||(a={})),function(t){t[t.DIJKSTRA=1]="DIJKSTRA",t[t.ASTAR=2]="ASTAR",t[t.ASTAR_GREEDY=3]="ASTAR_GREEDY"}(r||(r={}));var A=function(t){var e=t.row,n=t.column,r=t.weight,i=t.index,o=t.status,h=t.displayWeight,u=t.onChange,c=t.onMouseEnterGridItem,d=t.onMouseDownGridItem,l=t.onMouseUpGridItem,p=t.onTouchMove,g=t.onTouchEnd;return s.a.createElement("div",{className:function(t,e){var n="grid__item";switch(t){case a.START:return n+" grid__item--start";case a.END:return n+" grid__item--end";case a.EXPLORED:return n+" grid__item--explored";case a.EXPLORING:return n+" grid__item--exploring";case a.PATH:return n+" grid__item--path";case a.WALL:return n+" grid__item--wall";default:return n}}(o),onMouseEnter:c(i),onMouseDown:d(i),onMouseUp:l(i),onTouchMove:p,onTouchEnd:g,"data-index":i},s.a.createElement("p",{className:"item__index"},"i:",i),h&&s.a.createElement("div",{className:"item__data"},s.a.createElement("label",{htmlFor:"weight-input"},"W:"),s.a.createElement("input",{id:"weight-input",className:"item__input",type:"number",value:r,onChange:u(i),min:0})),s.a.createElement("p",{className:"item__coords"},"(",n+","+e,")"))},E=(n(21),n(7)),w=function(){function t(e){Object(g.a)(this,t),this.nodes=void 0,this.start=void 0,this.end=void 0,this.rows=void 0,this.columns=void 0,this.path=void 0,this.pathNodeArray=void 0,this.pathStepArray=void 0,this.pathStepCurrent=void 0,this.nodes=e.nodes,this.rows=e.rows,this.columns=e.columns,this.start=e.start,this.end=e.end,this.path=[],this.pathNodeArray=[],this.pathStepArray=[[]],this.pathStepCurrent=0}return Object(v.a)(t,[{key:"createNodeArray",value:function(t){return t.map((function(t,e){return{i:e,distance:0,weight:t,prevNode:void 0}}))}},{key:"getNodeNeighbours",value:function(t){var e=this.rows,n=this.columns,a=[],r=Math.floor(t/n),i=t-r*n;return i-1>=0&&a.push(t-1),i+1<n&&a.push(t+1),r-1>=0&&a.push(t-n),r+1<e&&a.push(t+n),a}},{key:"buildPathArray",value:function(t){for(var e=[],n=t[this.end];void 0!==n.prevNode;)e.push(n.i),n=t[n.prevNode];return e.push(n.i),e.reverse(),this.path=e,this.pathStepCurrent=0,e}},{key:"getNextPathStep",value:function(){return this.pathStepArray[this.pathStepCurrent+1]?(this.pathStepCurrent+=1,this.pathStepArray[this.pathStepCurrent]):this.pathStepArray[this.pathStepCurrent]}}]),t}(),y=function(t){function e(){var t,n;Object(g.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).calcPath=function(){var t=Object(E.a)(n),e=t.start,a=t.end,r=t.nodes,i=n.createNodeArray(r),s=[];i.forEach((function(t,n){t.distance=e===n?0:1/0,s.push(n)}));for(var o=i[e],h=function(){var t=n.getNodeNeighbours(o.i),e=o.distance,r=o.i;if(t.forEach((function(t){if(s.includes(t)&&0!==i[t].weight){var n=i[t].weight+e;i[t].distance>n&&(i[t].distance=n,i[t].prevNode=r)}})),s.splice(s.indexOf(o.i),1),!s.includes(a))return n.pathNodeArray=i,{v:n.buildPathArray(i)};var h=a;return s.forEach((function(t){i[t].distance<i[h].distance&&(h=t)})),o=i[h],n.buildCurrentStep(i,s,o),o.distance===1/0?{v:[]}:void 0};s.length>0;){var u=h();if("object"===typeof u)return u.v}return[]},n}return Object(S.a)(e,t),Object(v.a)(e,[{key:"buildCurrentStep",value:function(t,e,n){var r=t.map((function(t,n){return 0===t.weight?a.WALL:void 0!==t.prevNode&&e.includes(n)?a.EXPLORING:void 0!==t.prevNode?a.EXPLORED:a.OPEN}));this.pathStepArray.push(r)}}]),e}(w),b=function t(){var e=this;Object(g.a)(this,t),this.heap=void 0,this.getParent=function(t){return Math.floor((t-1)/2)},this.getLeft=function(t){return 2*t+1},this.getRight=function(t){return 2*t+2},this.swap=function(t,n){var a=e.heap[t];e.heap[t]=e.heap[n],e.heap[n]=a},this.isKeyALessThanB=function(t,n){return e.heap[t].key<e.heap[n].key},this.siftDown=function(t){var n=e.heap,a=e.getLeft,r=e.getRight,i=e.isKeyALessThanB,s=e.siftDown,o=e.swap;if(t>=0){var h=a(t),u=r(t);if(n[h]&&n[u]){if(i(h,t)||i(u,t)){var c=i(h,u)?h:u;o(c,t),s(c)}}else n[h]&&i(h,t)?(o(h,t),s(h)):n[u]&&i(u,t)&&(o(u,t),s(u))}},this.insert=function(t,n){var a={key:t,value:n};e.heap.push(a);!function t(n){var a=e.getParent(n);a>=0&&e.heap[a].key>e.heap[n].key&&(e.swap(n,a),t(a))}(e.heap.length-1)},this.extractMin=function(){var t=e.heap,n=e.siftDown,a={key:t[0].key,value:t[0].value};return t[0]=t[t.length-1],t.pop(),n(0),a},this.isEmpty=function(){return!(e.heap.length>0)},this.containsValue=function(t){return e.heap.some((function(e){return e.value===t}))},this.heap=[]},N=function(t){function e(t){var n;Object(g.a)(this,e),(n=Object(f.a)(this,Object(m.a)(e).call(this,t))).endX=void 0,n.endY=void 0,n.getEndXY=function(){var t=Math.floor(n.end/n.columns);return{endX:n.end-t*n.columns,endY:t}},n.getHeuristic=function(t){var e=Math.floor(t/n.columns),a=t-e*n.columns;return Math.abs(n.endY-e)+Math.abs(n.endX-a)};var a=n.getEndXY(),r=a.endX,i=a.endY;return n.endX=r,n.endY=i,n}return Object(S.a)(e,t),Object(v.a)(e,[{key:"calcPath",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.start,a=this.end,r=this.nodes,i=this.createNodeArray(r),s=new Set,o=new Array(i.length).fill(1/0);o[n]=0;var h=Object(p.a)(o);h[n]=this.getHeuristic(n);var u=new b;u.insert(this.getHeuristic(n),n);for(var c=function(){var n=u.extractMin().value,r=i[n];if(r.i===a)return t.pathNodeArray=i,{v:t.buildPathArray(i)};s.add(n),t.getNodeNeighbours(r.i).forEach((function(a){if(!s.has(a)&&0!==i[a].weight){var r=o[n]+i[a].weight;r<o[a]&&(i[a].prevNode=n,o[a]=r,h[a]=e?t.getHeuristic(a):r+t.getHeuristic(a),u.insert(h[a],a),t.buildCurrentStep(s,i))}}))};!u.isEmpty();){var d=c();if("object"===typeof d)return d.v}return[]}},{key:"buildCurrentStep",value:function(t,e){var n=e.map((function(e,n){return 0===e.weight?a.WALL:void 0!==e.prevNode&&t.has(n)?a.EXPLORED:void 0!==e.prevNode?a.EXPLORING:a.OPEN}));this.pathStepArray.push(n)}}]),e}(w),P=function(){function t(e,n,a,r,i){var s=this;Object(g.a)(this,t),this.nodes=void 0,this.start=void 0,this.end=void 0,this.rows=void 0,this.columns=void 0,this.path=void 0,this.pathAlgorithm=void 0,this.getDataObject=function(){return{nodes:s.nodes,rows:s.rows,columns:s.columns,start:s.start,end:s.end,path:[]}},this.nodes=e,this.rows=n,this.columns=a,this.start=r,this.end=i,this.path=[],this.pathAlgorithm=new w(this.getDataObject())}return Object(v.a)(t,[{key:"calcPath",value:function(t){var e,n=this.getDataObject();switch(t){case r.ASTAR_GREEDY:e=new N(n),this.path=e.calcPath(!0);break;case r.ASTAR:e=new N(n),this.path=e.calcPath();break;default:e=new y(n),this.path=e.calcPath()}return this.pathAlgorithm=e,this.path}},{key:"getPathNodes",value:function(){return this.pathAlgorithm.pathNodeArray}},{key:"getPathSteps",value:function(){return this.pathAlgorithm.pathStepArray}},{key:"getPathStepsLength",value:function(){return this.pathAlgorithm.pathStepArray.length}},{key:"getNextPathStep",value:function(){return this.pathAlgorithm.getNextPathStep()}}]),t}(),D=function(t){function e(t){var n;return Object(g.a)(this,e),(n=Object(f.a)(this,Object(m.a)(e).call(this,t))).resetPathState=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({nodes:t?new Array(n.props.rows*n.props.columns).fill(1):n.state.nodes,path:[],pathNodes:[],pathStep:[]})},n.generateGridItems=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.state.nodes,i=[],o=0;o<t;o++)for(var h=0;h<e;h++){var u=o*e+h,c=n.state.pathStep[u];n.state.path.includes(u)&&(c=a.PATH),0===r[u]&&(c=a.WALL),0===h&&0===o&&(c=a.START),h===e-1&&o===t-1&&(c=a.END),i.push(s.a.createElement("div",{className:"item__container--square",key:"ics"+h+"_"+o},s.a.createElement(A,{status:c,key:"gi_"+h+"_"+o,row:o,column:h,weight:r[o*e+h]?r[o*e+h]:0,index:o*e+h,displayWeight:!(e>7&&t>7),onChange:n.onChangeNodeWeight,onMouseEnterGridItem:n.onMouseEnterGridItem,onMouseDownGridItem:n.onMouseDownGridItem,onMouseUpGridItem:n.onMouseUpGridItem,onTouchMove:n.onTouchMoveGridItem,onTouchEnd:n.onTouchEndGridItem})))}return i},n.onChangeNodeWeight=function(t){return function(e){var a=Object(p.a)(n.state.nodes);a[t]=parseInt(e.target.value),n.setState({nodes:a})}},n.getGridStyles=function(t,e){var a=n.getGridTemplate(e);return Object.assign(a,n.calcGridHeightAndWidth(t,e)),a},n.calcGridHeightAndWidth=function(t,e){var n=100,a=100;return t>e?n=e/t*100:a=t/e*100,{width:n+"%",height:a+"%"}},n.getGridTemplate=function(t){for(var e="",n=0;n<t;n++)e+="1fr ";return{gridTemplateColumns:e}},n.onCalculatePath=function(){n.resetPathState();var t=new P(n.state.nodes,n.props.rows,n.props.columns,0,n.state.nodes.length-1),e=t.calcPath(n.state.algorithm),a=t.getPathNodes();n.setState({path:e,pathNodes:a})},n.onCalculatePathSteps=function(){n.resetPathState();var t=new P(n.state.nodes,n.props.rows,n.props.columns,0,n.state.nodes.length-1);t.calcPath(n.state.algorithm),n.DisplayPathSteps(t)},n.wait=function(t){return new Promise((function(e){return setTimeout(e,t)}))},n.onChangeAlgorithm=function(t){n.setState({algorithm:parseInt(t.target.value)})},n.stopDragAt=function(t){if(n.state.dragStartIndex===t&&n.state.dragStartInitialWeight===n.state.nodes[t]){var e=Object(p.a)(n.state.nodes);e[t]=n.state.isCreatingWalls?0:1,n.setState((function(n){return{isDragging:!1,dragEndIndex:t,nodes:e}}))}else n.setState((function(e){return{isDragging:!1,dragEndIndex:t}}))},n.stopDrag=function(){n.setState((function(t){return{isDragging:!1}}))},n.startDragAt=function(t){n.resetPathState(),n.setState((function(e){return{isDragging:!0,dragStartIndex:t,dragStartInitialWeight:n.state.nodes[t],isCreatingWalls:0!==n.state.nodes[t]}}))},n.continueDragAt=function(t){if(n.state.isDragging&&t!==n.state.dragStartIndex){var e=Object(p.a)(n.state.nodes);e[t]=n.state.isCreatingWalls?0:1,e[n.state.dragStartIndex]=e[t],n.setState((function(t){return{nodes:e}}))}},n.onMouseDownGridItem=function(t){return function(e){n.startDragAt(t)}},n.onMouseUpGridItem=function(t){return function(e){n.stopDragAt(t)}},n.onMouseEnterGridItem=function(t){return function(e){n.continueDragAt(t)}},n.onMouseExitGrid=function(t){n.stopDrag()},n.onTouchMoveGridItem=function(t){var e=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);if(null!==e){var a=e.getAttribute("data-index");if(null!==a){var r=parseInt(a);!1===n.state.isDragging?n.startDragAt(r):n.continueDragAt(r)}}},n.onTouchEndGridItem=function(t){n.stopDrag()},n.state={nodes:new Array(t.rows*t.columns).fill(1),path:[],algorithm:r.DIJKSTRA,isDragging:!1,isCreatingWalls:!1,dragStartInitialWeight:0,dragStartIndex:0,dragEndIndex:0,pathNodes:[],pathStep:new Array(t.rows*t.columns).fill(a.OPEN)},n.state.pathStep[0]=a.START,n.state.pathStep[n.state.pathStep.length-1]=a.END,n}return Object(S.a)(e,t),Object(v.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.columns===t.columns&&this.props.rows===t.rows||this.resetPathState(!0)}},{key:"DisplayPathSteps",value:function(){var t=Object(l.a)(d.a.mark((function t(e){var n,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getPathStepsLength(),a=e.path,r=0;case 3:if(!(r<n)){t.next=10;break}return this.setState({pathStep:e.getNextPathStep()}),t.next=7,this.wait(5);case 7:r++,t.next=3;break;case 10:this.setState({path:a});case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,e=t.rows,n=t.columns,a=this.state.nodes;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"grid__container",style:this.getGridStyles(e,n),onMouseLeave:this.onMouseExitGrid},this.generateGridItems(e,n,a)),s.a.createElement("button",{id:"calc_path",onClick:this.onCalculatePath},"Calculate Path"),s.a.createElement("button",{id:"calc_path_steps",onClick:this.onCalculatePathSteps},"Show Path Steps"),s.a.createElement("select",{id:"select_algorithm",onChange:this.onChangeAlgorithm},s.a.createElement("option",{value:r.DIJKSTRA},"Dijkstra"),s.a.createElement("option",{value:r.ASTAR},"A*"),s.a.createElement("option",{value:r.ASTAR_GREEDY},"A* Greedy")))}}]),e}(s.a.Component),O=(n(22),function(){var t=Object(i.useState)(8),e=Object(u.a)(t,2),n=e[0],a=e[1],r=Object(i.useState)(8),o=Object(u.a)(r,2),h=o[0],c=o[1];return s.a.createElement("div",{className:"App"},s.a.createElement("div",{style:{width:"500px",margin:"auto"}},s.a.createElement(D,{rows:n,columns:h}),s.a.createElement("div",{className:"rc__container"},s.a.createElement("label",{htmlFor:"rows"},"Rows:"),s.a.createElement("input",{id:"rows",className:"rc__input",type:"number",min:3,value:n,onChange:function(t){return a(parseInt(t.target.value))}}),s.a.createElement("label",{htmlFor:"columns"},"Columns:"),s.a.createElement("input",{id:"rows",className:"rc__input",type:"number",min:3,value:h,onChange:function(t){return c(parseInt(t.target.value))}}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.3deb89b4.chunk.js.map